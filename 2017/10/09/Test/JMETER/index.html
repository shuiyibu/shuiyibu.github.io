<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="一江烟雨任平生">





  <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">






<meta name="description" content="@@ -0,0 +1,810 @@ 1. Getting Started1.0 Overview1.0.1 Test plan buildingTo do that, you will run JMeter in GUI Mode.Then you can either choose to record the application from a browser, or native appli">
<meta property="og:type" content="article">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/2017/10/09/Test/JMETER/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="@@ -0,0 +1,810 @@ 1. Getting Started1.0 Overview1.0.1 Test plan buildingTo do that, you will run JMeter in GUI Mode.Then you can either choose to record the application from a browser, or native appli">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://jmeter.apache.org/images/screenshots/template_menu.png">
<meta property="og:image" content="http://jmeter.apache.org/images/screenshots/template_wizard.png">
<meta property="og:image" content="http://jmeter.apache.org/images/screenshots/log_errors_counter.png">
<meta property="og:updated_time" content="2017-10-09T14:08:38.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">
<meta name="twitter:description" content="@@ -0,0 +1,810 @@ 1. Getting Started1.0 Overview1.0.1 Test plan buildingTo do that, you will run JMeter in GUI Mode.Then you can either choose to record the application from a browser, or native appli">
<meta name="twitter:image" content="http://jmeter.apache.org/images/screenshots/template_menu.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2017/10/09/Test/JMETER/">





  <title> | Hexo</title>
  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?4d5b541690a836307558f5f13157a238";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Hexo</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description"></h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br>
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br>
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/10/09/Test/JMETER/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dylan Lang">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline"></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-10-09T22:08:38+08:00">
                2017-10-09
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/10/09/Test/JMETER/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/10/09/Test/JMETER/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>@@ -0,0 +1,810 @@</p>
<h1 id="1-Getting-Started"><a href="#1-Getting-Started" class="headerlink" title="1. Getting Started"></a>1. Getting Started</h1><h1 id="1-0-Overview"><a href="#1-0-Overview" class="headerlink" title="1.0 Overview"></a>1.0 Overview</h1><h2 id="1-0-1-Test-plan-building"><a href="#1-0-1-Test-plan-building" class="headerlink" title="1.0.1 Test plan building"></a>1.0.1 Test plan building</h2><p>To do that, you will <a href="http://jmeter.apache.org/usermanual/get-started.html#running" target="_blank" rel="noopener">run JMeter in GUI Mode.</a><br>Then you can either choose to record the application from a browser, or native application. You can use for that the menu File → Templates… → Recording </p>
<p>Note you can also manually build your plan. Ensure you read this <a href="http://jmeter.apache.org/usermanual/test_plan.html" target="_blank" rel="noopener">documentation</a> to understand major concepts.</p>
<ul>
<li>Run → Start no pauses</li>
<li>Run → Start</li>
<li>Validate on <a href="http://jmeter.apache.org/usermanual/component_reference.html#Thread_Group" target="_blank" rel="noopener">Thread Group</a></li>
</ul>
<p>and <a href="http://jmeter.apache.org/usermanual/component_reference.html#View_Results_Tree" target="_blank" rel="noopener">View Results Tree</a> renderers or Testers (CSS/JQUERY, JSON, Regexp, XPath).<br>Ensure you follow <a href="http://jmeter.apache.org/usermanual/best-practices.html" target="_blank" rel="noopener">best-practices</a> when building your Test Plan.</p>
<h2 id="1-0-2-Load-Test-running"><a href="#1-0-2-Load-Test-running" class="headerlink" title="1.0.2 Load Test running"></a>1.0.2 Load Test running</h2><p>Once your Test Plan is ready, you can start your Load Test. The first step is to configure the injectors that will run JMeter, this as for any other Load Testing tool includes:</p>
<ul>
<li>Correct machine sizing in terms of CPU, memory and network</li>
<li>OS Tuning</li>
<li>Java setup: Ensure you install the latest version of Java supported by JMeter</li>
<li><strong>Correct sizing of Java Heap</strong>. By default JMeter runs with a heap of 512MB, this might not be enough for your test and depends on your test plan and number of threads you want to run</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Don&apos;t run load test using GUI mode !</span><br></pre></td></tr></table></figure>
<p>Using Non-GUI mode, you can generate a CSV (or XML) file containing results and have JMeter <a href="http://jmeter.apache.org/usermanual/generating-dashboard.html" target="_blank" rel="noopener">generate an HTML report</a> at end of Load Test. JMeter will by default provide a summary of load test while it’s running.<br>You can also have <a href="http://jmeter.apache.org/usermanual/realtime-results.html" target="_blank" rel="noopener">real-time results</a> during your test using <a href="http://jmeter.apache.org/usermanual/component_reference.html#Backend_Listener" target="_blank" rel="noopener">Backend Listener</a>.</p>
<h2 id="1-0-3-Load-Test-analysis"><a href="#1-0-3-Load-Test-analysis" class="headerlink" title="1.0.3 Load Test analysis"></a>1.0.3 Load Test analysis</h2><h2 id="1-0-4-Let’s-start"><a href="#1-0-4-Let’s-start" class="headerlink" title="1.0.4 Let’s start"></a>1.0.4 Let’s start</h2><p>The easiest way to begin using JMeter is to first <a href="http://jmeter.apache.org/download_jmeter.cgi" target="_blank" rel="noopener">download the latest production release</a> and install it. The release contains all of the files you need to build and run most types of tests, e.g. Web (HTTP/HTTPS), FTP, JDBC, LDAP, Java, JUnit and more.</p>
<p>If you want to perform JDBC testing, then you will, of course, need the appropriate JDBC driver from your vendor. JMeter does not come with any JDBC drivers.</p>
<p>JMeter includes the JMS API jar, but does not include a JMS client implementation. If you want to run JMS tests, you will need to download the appropriate jars from the JMS provider.</p>
<p>See the <a href="http://jmeter.apache.org/usermanual/get-started.html#classpath" target="_blank" rel="noopener">JMeter Classpath</a> section for details on installing additional jars.</p>
<p>Next, start JMeter and go through the <a href="http://jmeter.apache.org/usermanual/build-test-plan.html" target="_blank" rel="noopener">Building a Test Plan</a> section of the User Guide to familiarize yourself with JMeter basics (for example, adding and removing elements).</p>
<p>Finally, go through the appropriate section on how to build a specific type of Test Plan. For example, if you are interested in testing a Web application, then see the section <a href="http://jmeter.apache.org/usermanual/build-web-test-plan.html" target="_blank" rel="noopener">Building a Web Test Plan</a>. The other specific Test Plan sections are:</p>
<ul>
<li><a href="http://jmeter.apache.org/usermanual/build-adv-web-test-plan.html" target="_blank" rel="noopener">Advanced Web Test Plan</a></li>
<li><a href="http://jmeter.apache.org/usermanual/build-db-test-plan.html" target="_blank" rel="noopener">JDBC</a></li>
<li><a href="http://jmeter.apache.org/usermanual/build-ftp-test-plan.html" target="_blank" rel="noopener">FTP</a></li>
<li><a href="http://jmeter.apache.org/usermanual/build-jms-point-to-point-test-plan.html" target="_blank" rel="noopener">JMS Point-to-Point</a></li>
<li><a href="http://jmeter.apache.org/usermanual/build-jms-topic-test-plan.html" target="_blank" rel="noopener">JMS Topic</a></li>
<li><a href="http://jmeter.apache.org/usermanual/build-ldap-test-plan.html" target="_blank" rel="noopener">LDAP</a></li>
<li><a href="http://jmeter.apache.org/usermanual/build-ldapext-test-plan.html" target="_blank" rel="noopener">LDAP Extended</a></li>
<li><a href="http://jmeter.apache.org/usermanual/build-ws-test-plan.html" target="_blank" rel="noopener">WebServices (SOAP)</a></li>
</ul>
<p>Once you are comfortable with building and running JMeter Test Plans, you can look into the various configuration elements (timers, listeners, assertions, and others) which give you more control over your Test Plans.</p>
<h1 id="1-1-Requirements"><a href="#1-1-Requirements" class="headerlink" title="1.1 Requirements"></a>1.1 Requirements</h1><p>JMeter requires that your computing environment meets some minimum requirements.</p>
<h2 id="1-1-1-Java-Version"><a href="#1-1-1-Java-Version" class="headerlink" title="1.1.1 Java Version"></a>1.1.1 Java Version</h2><p>JMeter requires a fully compliant JVM 8, we advise that you install latest minor version of those major versions. Java 9 is not tested completely as of JMeter 3.2.</p>
<p>Because JMeter uses only standard Java APIs, please do not file bug reports if your JRE fails to run JMeter because of JRE implementation issues.</p>
<h2 id="1-1-2-Operating-Systems"><a href="#1-1-2-Operating-Systems" class="headerlink" title="1.1.2 Operating Systems"></a>1.1.2 Operating Systems</h2><p>JMeter is a 100% Java application and should run correctly on any system that has a compliant Java implementation.</p>
<p>Operating systems tested with JMeter can be viewed on <a href="http://wiki.apache.org/jmeter/JMeterAndOperatingSystemsTested" target="_blank" rel="noopener">this page</a> on JMeter wiki.</p>
<p>Even if your OS is not listed on the wiki page, JMeter should run on it provided that the JVM is compliant.</p>
<h1 id="1-2-Optional"><a href="#1-2-Optional" class="headerlink" title="1.2 Optional"></a>1.2 Optional</h1><p>If you plan on doing JMeter development, then you will need one or more optional packages listed below.</p>
<h2 id="1-2-1-Java-Compiler"><a href="#1-2-1-Java-Compiler" class="headerlink" title="1.2.1 Java Compiler"></a>1.2.1 Java Compiler</h2><p>If you want to build the JMeter source or develop JMeter plugins, then you will need a fully compliant JDK 8 or higher.</p>
<h2 id="1-2-2-SAX-XML-Parser"><a href="#1-2-2-SAX-XML-Parser" class="headerlink" title="1.2.2 SAX XML Parser"></a>1.2.2 SAX XML Parser</h2><p>JMeter comes with Apache’s <a href="http://xml.apache.org/" target="_blank" rel="noopener">Xerces XML parser</a>. You have the option of telling JMeter to use a different XML parser. To do so, include the classes for the third-party parser in JMeter’s <a href="http://jmeter.apache.org/usermanual/get-started.html#classpath" target="_blank" rel="noopener">classpath</a>, and update the <a href="http://jmeter.apache.org/usermanual/get-started.html#configuring_jmeter" target="_blank" rel="noopener">jmeter.properties</a> file with the full classname of the parser implementation.</p>
<h2 id="1-2-3-Email-Support"><a href="#1-2-3-Email-Support" class="headerlink" title="1.2.3 Email Support"></a>1.2.3 Email Support</h2><p>JMeter has extensive Email capabilities. It can send email based on test results, and has a POP3(S)/IMAP(S) sampler. It also has an SMTP(S) sampler.</p>
<h2 id="1-2-4-SSL-Encryption"><a href="#1-2-4-SSL-Encryption" class="headerlink" title="1.2.4 SSL Encryption"></a>1.2.4 SSL Encryption</h2><p>To test a web server using SSL encryption (HTTPS), JMeter requires that an implementation of SSL be provided, as is the case with Sun Java 1.4 and above. If your version of Java does not include SSL support, then it is possible to add an external implementation. Include the necessary encryption packages in JMeter’s <a href="http://jmeter.apache.org/usermanual/get-started.html#classpath" target="_blank" rel="noopener">classpath</a>. Also, update <a href="http://jmeter.apache.org/usermanual/get-started.html#configuring_jmeter" target="_blank" rel="noopener">system.properties</a> to register the SSL Provider.</p>
<p>JMeter HTTP defaults to protocol level TLS. This can be changed by editing the JMeter propertyhttps.default.protocol in jmeter.properties or user.properties.</p>
<p><strong>The JMeter HTTP samplers are configured to accept all certificates, whether trusted or not, regardless of validity periods, etc.</strong> This is to allow the maximum flexibility in testing servers.</p>
<p>If the server requires a client certificate, this can be provided.</p>
<p>There is also the <a href="http://jmeter.apache.org/usermanual/component_reference.html#SSL_Manager" target="_blank" rel="noopener">SSL Manager</a>, for greater control of certificates.</p>
<p>The JMeter proxy server (see below) supports recording HTTPS (SSL)</p>
<p>The SMTP sampler can optionally use a local trust store or trust all certificates.</p>
<h2 id="1-2-5-JDBC-Driver"><a href="#1-2-5-JDBC-Driver" class="headerlink" title="1.2.5 JDBC Driver"></a>1.2.5 JDBC Driver</h2><p>You will need to add your database vendor’s JDBC driver to the <a href="http://jmeter.apache.org/usermanual/get-started.html#classpath" target="_blank" rel="noopener">classpath</a> if you want to do JDBC testing. Make sure the file is a jar file, not a zip.</p>
<h2 id="1-2-6-JMS-client"><a href="#1-2-6-JMS-client" class="headerlink" title="1.2.6 JMS client"></a>1.2.6 JMS client</h2><p>JMeter now includes the JMS API from Apache Geronimo, so you just need to add the appropriate JMS Client implementation jar(s) from the JMS provider. Please refer to their documentation for details. There may also be some information on the <a href="http://wiki.apache.org/jmeter/" target="_blank" rel="noopener">JMeter Wiki</a>.</p>
<h2 id="1-2-7-Libraries-for-ActiveMQ-JMS"><a href="#1-2-7-Libraries-for-ActiveMQ-JMS" class="headerlink" title="1.2.7 Libraries for ActiveMQ JMS"></a>1.2.7 Libraries for ActiveMQ JMS</h2><p>You will need to add the jar activemq-all-X.X.X.jar to your classpath, e.g. by storing it in the lib/ directory.</p>
<p>See <a href="http://activemq.apache.org/initial-configuration.html" target="_blank" rel="noopener">ActiveMQ initial configuration page</a> for details.</p>
<p>See the <a href="http://jmeter.apache.org/usermanual/get-started.html#classpath" target="_blank" rel="noopener">JMeter Classpath</a> section for more details on installing additional jars.</p>
<h1 id="1-3-Installation"><a href="#1-3-Installation" class="headerlink" title="1.3 Installation"></a>1.3 Installation</h1><p>We recommend that most users run the <a href="http://jmeter.apache.org/download_jmeter.cgi" target="_blank" rel="noopener">latest release</a>.</p>
<p>To install a release build, simply unzip the zip/tar file into the directory where you want JMeter to be installed. Provided that you have a JRE/JDK correctly installed and the JAVA_HOME environment variable set, there is nothing more for you to do.</p>
<p>There can be problems (especially with client-server mode) if the directory path contains any spaces.</p>
<p>The installation directory structure should look something like this (where X.Y is version number):</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">apache-jmeter-X.Y</span><br><span class="line">apache-jmeter-X.Y/bin</span><br><span class="line">apache-jmeter-X.Y/docs</span><br><span class="line">apache-jmeter-X.Y/extras</span><br><span class="line">apache-jmeter-X.Y/lib/</span><br><span class="line">apache-jmeter-X.Y/lib/ext</span><br><span class="line">apache-jmeter-X.Y/lib/junit</span><br><span class="line">apache-jmeter-X.Y/licenses</span><br><span class="line">apache-jmeter-X.Y/printable_docs</span><br></pre></td></tr></table></figure>
<p>apache-jmeter-X.Y</p>
<h1 id="1-4-Running-JMeter"><a href="#1-4-Running-JMeter" class="headerlink" title="1.4 Running JMeter"></a>1.4 Running JMeter</h1><p>To run JMeter, run the jmeter.bat (for Windows) or jmeter (for Unix) file. These files are found in the bin directory. After a short time, the JMeter GUI should appear.</p>
<p>GUI mode should only be used for creating the test script, NON GUI mode must be used for load testing</p>
<p>There are some additional scripts in the bin directory that you may find useful. Windows script files (the .CMD files require Win2K or later):</p>
<ul>
<li><p>jmeter.bat</p>
<p>run JMeter (in GUI mode by default)</p>
</li>
<li><p>jmeterw.cmd</p>
<p>run JMeter without the windows shell console (in GUI mode by default)</p>
</li>
<li><p>jmeter-n.cmd</p>
<p>drop a JMX file on this to run a non-GUI test</p>
</li>
<li><p>jmeter-n-r.cmd</p>
<p>drop a JMX file on this to run a non-GUI test remotely</p>
</li>
<li><p>jmeter-t.cmd</p>
<p>drop a JMX file on this to load it in GUI mode</p>
</li>
<li><p>jmeter-server.bat</p>
<p>start JMeter in server mode</p>
</li>
<li><p>mirror-server.cmd</p>
<p>runs the JMeter Mirror Server in non-GUI mode</p>
</li>
<li><p>shutdown.cmd</p>
<p>Run the Shutdown client to stop a non-GUI instance gracefully</p>
</li>
<li><p>stoptest.cmd</p>
<p>Run the Shutdown client to stop a non-GUI instance abruptly</p>
</li>
</ul>
<p>The special name LAST can be used with jmeter-n.cmd, jmeter-t.cmd and jmeter-n-r.cmd and means the last test plan that was run interactively.</p>
<p>The environment variable JVM_ARGS can be used to override JVM settings in the jmeter.bat script. For example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">set JVM_ARGS=&quot;-Xms1024m -Xmx1024m -Dpropname=propvalue&quot;</span><br><span class="line">jmeter -t test.jmx …</span><br></pre></td></tr></table></figure>
<p>Un*x script files; should work on most Linux/Unix systems:</p>
<ul>
<li><p>jmeter</p>
<p>run JMeter (in GUI mode by default). Defines some JVM settings which may not work for all JVMs.</p>
</li>
<li><p>jmeter-server</p>
<p>start JMeter in server mode (calls jmeter script with appropriate parameters)</p>
</li>
<li><p>jmeter.sh</p>
<p>very basic JMeter script (You may need to adapt JVM options like memory settings).</p>
</li>
<li><p>mirror-server.sh</p>
<p>runs the JMeter Mirror Server in non-GUI mode</p>
</li>
<li><p>shutdown.sh</p>
<p>Run the Shutdown client to stop a non-GUI instance gracefully</p>
</li>
<li><p>stoptest.sh</p>
<p>Run the Shutdown client to stop a non-GUI instance abruptly</p>
</li>
</ul>
<p>It may be necessary to edit the jmeter shell script if some of the JVM options are not supported by the JVM you are using. The JVM_ARGS environment variable can be used to override or set additional JVM options, for example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">JVM_ARGS=&quot;-Xms1024m -Xmx1024m&quot; jmeter -t test.jmx [etc.]</span><br></pre></td></tr></table></figure>
<p>will override the HEAP settings in the script.</p>
<h2 id="1-4-1-JMeter’s-Classpath"><a href="#1-4-1-JMeter’s-Classpath" class="headerlink" title="1.4.1 JMeter’s Classpath"></a>1.4.1 JMeter’s Classpath</h2><p>JMeter automatically finds classes from jars in the following directories:</p>
<ul>
<li><p>JMETER_HOME/lib</p>
<p>used for utility jars</p>
</li>
<li><p>JMETER_HOME/lib/ext</p>
<p>used for JMeter components and plugins</p>
</li>
</ul>
<p>If you have developed new JMeter components, then you should jar them and copy the jar into JMeter’s lib/ext directory. JMeter will automatically find JMeter components in any jars found here. Do not use lib/ext for utility jars or dependency jars used by the plugins; it is only intended for JMeter components and plugins.</p>
<p>If you don’t want to put JMeter plugin jars in the lib/ext directory, then define the property search_paths in jmeter.properties.</p>
<p>Utility and dependency jars (libraries etc) can be placed in the lib directory.</p>
<p>If you don’t want to put such jars in the lib directory, then define the property user.classpath or plugin_dependency_paths in jmeter.properties. See below for an explanation of the differences.</p>
<p>Other jars (such as JDBC, JMS implementations and any other support libraries needed by the JMeter code) should be placed in the lib directory - not the lib/ext directory, or added to user.classpath.</p>
<p>JMeter will only find .jar files, not .zip.</p>
<p>You can also install utility Jar files in $JAVA_HOME/jre/lib/ext, or you can set the property user.classpath in jmeter.properties</p>
<p>Note that setting the CLASSPATH environment variable will have no effect. This is because JMeter is started with “java -jar”, and the java command silently ignores the CLASSPATH variable, and the -classpath/-cp options when -jar is used.</p>
<p>This occurs with all Java programs, not just JMeter.</p>
<h2 id="1-4-2-Create-Test-Plan-from-Template"><a href="#1-4-2-Create-Test-Plan-from-Template" class="headerlink" title="1.4.2 Create Test Plan from Template"></a>1.4.2 Create Test Plan from Template</h2><p>You have the ability to create a new Test Plan from existing template.</p>
<p>To do so you use the menu File → Templates… or Templates icon:</p>
<p><a href="http://jmeter.apache.org/images/screenshots/template_menu.png" target="_blank" rel="noopener"><img src="http://jmeter.apache.org/images/screenshots/template_menu.png" alt="Templates icon item"></a>Templates icon item</p>
<p>A popup appears, you can then choose a template among the list:</p>
<p><a href="http://jmeter.apache.org/images/screenshots/template_wizard.png" target="_blank" rel="noopener"><img src="http://jmeter.apache.org/images/screenshots/template_wizard.png" alt="Templates popup"></a>Templates popup</p>
<p>A documentation for each template explains what to do once test plan is created from template.</p>
<h2 id="1-4-3-Using-JMeter-behind-a-proxy"><a href="#1-4-3-Using-JMeter-behind-a-proxy" class="headerlink" title="1.4.3 Using JMeter behind a proxy"></a>1.4.3 Using JMeter behind a proxy</h2><p>If you are testing from behind a firewall/proxy server, you may need to provide JMeter with the firewall/proxy server hostname and port number. To do so, run the jmeter[.bat] file from a command line with the following parameters:</p>
<ul>
<li><p>-H</p>
<p>[proxy server hostname or ip address]</p>
</li>
<li><p>-P</p>
<p>[proxy server port]</p>
</li>
<li><p>-N</p>
<p>[nonproxy hosts] (e.g. *.apache.org|localhost)</p>
</li>
<li><p>-u</p>
<p>[username for proxy authentication - if required]</p>
</li>
<li><p>-a</p>
<p>[password for proxy authentication - if required]</p>
</li>
</ul>
<p>Example</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jmeter -H my.proxy.server -P 8000 -u username -a password -N localhost</span><br></pre></td></tr></table></figure>
<p>You can also use –proxyHost, –proxyPort, –username, and –password as parameter names</p>
<p>Parameters provided on a command-line may be visible to other users on the system.</p>
<p>If the proxy host and port are provided, then JMeter sets the following System properties:</p>
<ul>
<li>http.proxyHost</li>
<li>http.proxyPort</li>
<li>https.proxyHost</li>
<li>https.proxyPort</li>
</ul>
<ul>
<li>http.nonProxyHosts</li>
<li>https.nonProxyHosts</li>
</ul>
<p>So if you don’t wish to set both http and https proxies, you can define the relevant properties in system.properties instead of using the command-line parameters.</p>
<p>Proxy Settings can also be defined in a Test Plan, using either the <a href="http://jmeter.apache.org/usermanual/component_reference.html#HTTP_Request_Defaults" target="_blank" rel="noopener">HTTP Request Defaults</a> configuration or the <a href="http://jmeter.apache.org/usermanual/component_reference.html#HTTP_Request" target="_blank" rel="noopener">HTTP Request</a>sampler elements.</p>
<p>JMeter also has its own in-built Proxy Server, the <a href="http://jmeter.apache.org/usermanual/component_reference.html#HTTP(S" target="_blank" rel="noopener">HTTP(S) Test Script Recorder</a>_Test_Script_Recorder). This is only used for recording HTTP or HTTPS browser sessions. This is not to be confused with the proxy settings described above, which are used when JMeter makes HTTP or HTTPS requests itself.</p>
<h2 id="1-4-4-Non-GUI-Mode-Command-Line-mode"><a href="#1-4-4-Non-GUI-Mode-Command-Line-mode" class="headerlink" title="1.4.4 Non-GUI Mode (Command Line mode)"></a>1.4.4 Non-GUI Mode (Command Line mode)</h2><p>For load testing, you must run JMeter in this mode (Without the GUI) to get the optimal results from it. To do so, use the following command options:</p>
<ul>
<li><p>-n</p>
<p>This specifies JMeter is to run in non-gui mode</p>
</li>
<li><p>-t</p>
<p>[name of JMX file that contains the Test Plan].</p>
</li>
<li><p>-l</p>
<p>[name of JTL file to log sample results to].</p>
</li>
<li><p>-j</p>
<p>[name of JMeter run log file].</p>
</li>
<li><p>-r</p>
<p>Run the test in the servers specified by the JMeter property “remote_hosts”</p>
</li>
<li><p>-R</p>
<p>[list of remote servers] Run the test in the specified remote servers</p>
</li>
<li><p>-g</p>
<p>[path to CSV file] generate report dashboard only</p>
</li>
<li><p>-e</p>
<p>generate report dashboard after load test</p>
</li>
<li><p>-o</p>
<p>output folder where to generate the report dashboard after load test. Folder must not exist or be empty</p>
</li>
</ul>
<p>The script also lets you specify the optional firewall/proxy server information:</p>
<ul>
<li><p>-H</p>
<p>[proxy server hostname or ip address]</p>
</li>
<li><p>-P</p>
<p>[proxy server port]</p>
</li>
</ul>
<p>Example</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jmeter -n -t my_test.jmx -l log.jtl -H my.proxy.server -P 8000</span><br></pre></td></tr></table></figure>
<p>If the property jmeterengine.stopfail.system.exit is set to true (default is false), then JMeter will invoke System.exit(1) if it cannot stop all threads. Normally this is not necessary.</p>
<h2 id="1-4-5-Server-Mode"><a href="#1-4-5-Server-Mode" class="headerlink" title="1.4.5 Server Mode"></a>1.4.5 Server Mode</h2><p>For <a href="http://jmeter.apache.org/usermanual/remote-test.html" target="_blank" rel="noopener">distributed testing</a>, run JMeter in server mode on the remote node(s), and then control the server(s) from the GUI. You can also use non-GUI mode to run remote tests. To start the server(s), run jmeter-server[.bat] on each server host.</p>
<p>The script also lets you specify the optional firewall/proxy server information:</p>
<ul>
<li><p>-H</p>
<p>[proxy server hostname or ip address]</p>
</li>
<li><p>-P</p>
<p>[proxy server port]</p>
</li>
</ul>
<p>Example</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jmeter-server -H my.proxy.server -P 8000</span><br></pre></td></tr></table></figure>
<p>If you want the server to exit after a single test has been run, then define the JMeter property server.exitaftertest=true.</p>
<p>To run the test from the client in non-GUI mode, use the following command:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jmeter -n -t testplan.jmx -r [-Gprop=val] [-Gglobal.properties] [-X]</span><br></pre></td></tr></table></figure>
<ul>
<li><p>-G</p>
<p>is used to define JMeter properties to be set in the servers</p>
</li>
<li><p>-X</p>
<p>means exit the servers at the end of the test</p>
</li>
<li><p>-Rserver1,server2</p>
<p>can be used instead of -r to provide a list of servers to start. Overrides remote_hosts, but does not define the property.</p>
</li>
</ul>
<p>If the property jmeterengine.remote.system.exit is set to true (default is false), then JMeter will invoke System.exit(0) after stopping RMI at the end of a test. Normally this is not necessary.</p>
<h2 id="1-4-6-Overriding-Properties-Via-The-Command-Line"><a href="#1-4-6-Overriding-Properties-Via-The-Command-Line" class="headerlink" title="1.4.6 Overriding Properties Via The Command Line"></a>1.4.6 Overriding Properties Via The Command Line</h2><p>Java system properties and JMeter properties can be overridden directly on the command lin (instead of modifying jmeter.properties). To do so, use the following options:</p>
<ul>
<li><p>-D[prop_name]=[value]</p>
<p>defines a java system property value.</p>
</li>
<li><p>-J[prop_name]=[value]</p>
<p>defines a local JMeter property.</p>
</li>
<li><p>-G[prop_name]=[value]</p>
<p>defines a JMeter property to be sent to all remote servers.</p>
</li>
<li><p>-G[propertyfile]</p>
<p>defines a file containing JMeter properties to be sent to all remote servers.</p>
</li>
<li><p>-L[category]=[priority]</p>
<p>overrides a logging setting, setting a particular category to the given priority level.</p>
</li>
</ul>
<p>The -L flag can also be used without the category name to set the root logging level.</p>
<p><strong>Examples</strong>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">jmeter -Duser.dir=/home/mstover/jmeter_stuff \</span><br><span class="line">    -Jremote_hosts=127.0.0.1 -Ljmeter.engine=DEBUG</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jmeter -LDEBUG</span><br></pre></td></tr></table></figure>
<p>The command line properties are processed early in startup, but after the logging system has been set up.</p>
<h2 id="1-4-7-Logging-and-error-messages"><a href="#1-4-7-Logging-and-error-messages" class="headerlink" title="1.4.7 Logging and error messages"></a>1.4.7 Logging and error messages</h2><p>Since 3.2, JMeter logging is not configured through properties file(s) such as jmeter.properties any more, but it is configured through a <a href="http://logging.apache.org/log4j/2.x/" target="_blank" rel="noopener">Apache Log4j 2</a> configuration file (log4j2.xml in the directory from which JMeter was launched, by default) instead. Also, every code including JMeter and plugins MUST use <a href="https://www.slf4j.org/" target="_blank" rel="noopener">SLF4J</a> library to leave logs since 3.2.</p>
<p>Here is an example log4j2.xml file which defines two log appenders and loggers for each category.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&lt;Configuration status=&quot;WARN&quot; packages=&quot;org.apache.jmeter.gui.logging&quot;&gt;</span><br><span class="line"></span><br><span class="line">  &lt;Appenders&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- The main log file appender to jmeter.log in the directory from which JMeter was launched, by default. --&gt;</span><br><span class="line">    &lt;File name=&quot;jmeter-log&quot; fileName=&quot;$&#123;sys:jmeter.logfile:-jmeter.log&#125;&quot; append=&quot;false&quot;&gt;</span><br><span class="line">      &lt;PatternLayout&gt;</span><br><span class="line">        &lt;pattern&gt;%d %p %c&#123;1.&#125;: %m%n&lt;/pattern&gt;</span><br><span class="line">      &lt;/PatternLayout&gt;</span><br><span class="line">    &lt;/File&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- Log appender for GUI Log Viewer. See below. --&gt;</span><br><span class="line">    &lt;GuiLogEvent name=&quot;gui-log-event&quot;&gt;</span><br><span class="line">      &lt;PatternLayout&gt;</span><br><span class="line">        &lt;pattern&gt;%d %p %c&#123;1.&#125;: %m%n&lt;/pattern&gt;</span><br><span class="line">      &lt;/PatternLayout&gt;</span><br><span class="line">    &lt;/GuiLogEvent&gt;</span><br><span class="line"></span><br><span class="line">  &lt;/Appenders&gt;</span><br><span class="line"></span><br><span class="line">  &lt;Loggers&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- Root logger --&gt;</span><br><span class="line">    &lt;Root level=&quot;info&quot;&gt;</span><br><span class="line">      &lt;AppenderRef ref=&quot;jmeter-log&quot; /&gt;</span><br><span class="line">      &lt;AppenderRef ref=&quot;gui-log-event&quot; /&gt;</span><br><span class="line">    &lt;/Root&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- SNIP --&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!--</span><br><span class="line">      # Apache HttpClient logging examples</span><br><span class="line">    --&gt;</span><br><span class="line">    &lt;!-- # Enable header wire + context logging - Best for Debugging --&gt;</span><br><span class="line">    &lt;!--</span><br><span class="line">    &lt;Logger name=&quot;org.apache.http&quot; level=&quot;debug&quot; /&gt;</span><br><span class="line">    &lt;Logger name=&quot;org.apache.http.wire&quot; level=&quot;error&quot; /&gt;</span><br><span class="line">    --&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- SNIP --&gt;</span><br><span class="line"></span><br><span class="line">  &lt;/Loggers&gt;</span><br><span class="line"></span><br><span class="line">&lt;/Configuration&gt;</span><br></pre></td></tr></table></figure>
<p>So, if you want to change the log level for org.apache.http category to debug level for instance, you can simply add (or uncomment) the following logger element in log4j2.xml file before launching JMeter.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;Loggers&gt;</span><br><span class="line">  &lt;!-- SNIP --&gt;</span><br><span class="line">  &lt;Logger name=&quot;org.apache.http&quot; level=&quot;debug&quot; /&gt;</span><br><span class="line">  &lt;!-- SNIP --&gt;</span><br><span class="line">&lt;/Loggers&gt;</span><br></pre></td></tr></table></figure>
<p>For more detail on how to configure log4j2.xml file, please see <a href="http://logging.apache.org/log4j/2.x/manual/configuration.html" target="_blank" rel="noopener">Apache Log4j 2 Configuration</a> page.</p>
<p>Log level for specific categories or root logger can be overridden directly on the command line (instead of modifying log4j2.xml) as well. To do so, use the following options:</p>
<ul>
<li><p>-L[category]=[priority]</p>
<p>Overrides a logging setting, setting a particular category to the given priority level. Since 3.2, it is recommended to use a full category name (e.g, org.apache.jmeter or com.example.foo), but if the category name starts with either jmeter or jorphan, org.apache. will be prepended internally to the category name input to construct a full category name (i.e, org.apache.jmeter or org.apache.jorphan) for backward compatibility.</p>
</li>
</ul>
<p><strong>Examples</strong>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jmeter -Ljmeter.engine=DEBUG</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jmeter -Lorg.apache.jmeter.engine=DEBUG</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jmeter -Lcom.example.foo=DEBUG</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jmeter -LDEBUG</span><br></pre></td></tr></table></figure>
<p><strong>Differences in Logging : Old vs New Practices</strong>:</p>
<p>As JMeter uses SLF4J as logging API and Apache Log4j 2 as a logging framework since 3.2, not every log level used before 3.2 can match exactly with one of the new available log levels provided by SLF4J/Log4j2. Therefore, please keep the following differences and new suggested practices in mind if you need to migrate any existing logging configurations and logging code.</p>
<table>
<thead>
<tr>
<th>Category</th>
<th>Old Practices Before 3.2</th>
<th>New Practices Since 3.2</th>
</tr>
</thead>
<tbody>
<tr>
<td>Logger Reference</td>
<td>Logger reference through LoggingManager:<code>LoggingManager.getLoggerFor(String category);LoggingManager.getLoggerForClass();</code></td>
<td>Use SLF4J API with either category or explicit class:<code>LoggerFactory.getLogger(String category);LoggerFactory.getLogger(Foo.class);</code></td>
</tr>
<tr>
<td>Log Levels in Configuration or Command Line Arguments</td>
<td>Old Log Levels:DEBUGINFOWARNERRORFATAL_ERRORNONE</td>
<td>Mapping to New Levels through SLF4J/Log4j2:DEBUGINFOWARNERRORERRORNONE<strong>*Note:*</strong> Since ‘FATAL_ERROR’ is not supported by SLF4J API, it is treated as ‘ERROR’ instead for existing code not to break.<strong>*Note:*</strong> ‘TRACE’ level, which is less specific than ‘DEBUG’, is supported additionally since 3.2. Look up SLF4J or Apache Log4J 2 documentations for details.</td>
</tr>
</tbody>
</table>
<p>JMeter does not generally use pop-up dialog boxes for errors, as these would interfere with running tests. Nor does it report any error for a mis-spelt variable or function; instead the reference is just used as is. See <a href="http://jmeter.apache.org/usermanual/functions.html" target="_blank" rel="noopener">Functions and Variables for more information</a>.</p>
<p>If JMeter detects an error during a test, a message will be written to the log file. The log file name is defined in the log4j2.xml file (or using the -j option, see below). It defaults to jmeter.log, and will be found in the directory from which JMeter was launched.</p>
<p>The menu Options → Log Viewer displays the log file in a bottom pane on main JMeter window.</p>
<p>In the GUI mode, the number of error/fatal messages logged in the log file is displayed at top-right.</p>
<p><a href="http://jmeter.apache.org/images/screenshots/log_errors_counter.png" target="_blank" rel="noopener"><img src="http://jmeter.apache.org/images/screenshots/log_errors_counter.png" alt="Error/fatal counter"></a>Error/fatal counter</p>
<p>The command-line option -j jmeterlogfile allow to process after the initial properties file is read, and before any further properties are processed. It therefore allows the default of jmeter.log to be overridden. The jmeter scripts that take a test plan name as a parameter (e.g. jmeter-n.cmd) have been updated to define the log file using the test plan name, e.g. for the test plan Test27.jmx the log file is set to Test27.log.</p>
<p>When running on Windows, the file may appear as just <strong>jmeter</strong> unless you have set Windows to show file extensions. [Which you should do anyway, to make it easier to detect viruses and other nasties that pretend to be text files …]</p>
<p>As well as recording errors, the jmeter.log file records some information about the test run. For example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">2017-03-01 12:19:20,314 INFO o.a.j.JMeter: Version 3.2.20170301</span><br><span class="line">2017-03-01 12:19:45,314 INFO o.a.j.g.a.Load: Loading file: c:\mytestfiles\BSH.jmx </span><br><span class="line">2017-03-01 12:19:52,328 INFO o.a.j.e.StandardJMeterEngine: Running the test! </span><br><span class="line">2017-03-01 12:19:52,384 INFO o.a.j.e.StandardJMeterEngine: Starting 1 threads for group BSH. Ramp up = 1. </span><br><span class="line">2017-03-01 12:19:52,485 INFO o.a.j.e.StandardJMeterEngine: Continue on error </span><br><span class="line">2017-03-01 12:19:52,589 INFO o.a.j.t.JMeterThread: Thread BSH1-1 started </span><br><span class="line">2017-03-01 12:19:52,590 INFO o.a.j.t.JMeterThread: Thread BSH1-1 is done </span><br><span class="line">2017-03-01 12:19:52,691 INFO o.a.j.e.StandardJMeterEngine: Test has ended</span><br></pre></td></tr></table></figure>
<p>The log file can be helpful in determining the cause of an error, as JMeter does not interrupt a test to display an error dialogue.</p>
<h2 id="1-4-8-Full-list-of-command-line-options"><a href="#1-4-8-Full-list-of-command-line-options" class="headerlink" title="1.4.8 Full list of command-line options"></a>1.4.8 Full list of command-line options</h2><p>Invoking JMeter as “jmeter -?” will print a list of all the command-line options. These are shown below.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">--?</span><br><span class="line">    print command line options and exit</span><br><span class="line">-h, --help</span><br><span class="line">    print usage information and exit</span><br><span class="line">-v, --version</span><br><span class="line">    print the version information and exit</span><br><span class="line">-p, --propfile &lt;argument&gt;</span><br><span class="line">    the jmeter property file to use</span><br><span class="line">-q, --addprop &lt;argument&gt;</span><br><span class="line">    additional JMeter property file(s)</span><br><span class="line">-t, --testfile &lt;argument&gt;</span><br><span class="line">    the jmeter test(.jmx) file to run</span><br><span class="line">-l, --logfile &lt;argument&gt;</span><br><span class="line">    the file to log samples to</span><br><span class="line">-i, --jmeterlogconf &lt;argument&gt;</span><br><span class="line">    jmeter logging configuration file (log4j2.xml)</span><br><span class="line">-j, --jmeterlogfile &lt;argument&gt;</span><br><span class="line">    jmeter run log file (jmeter.log)</span><br><span class="line">-n, --nongui</span><br><span class="line">    run JMeter in nongui mode</span><br><span class="line">-s, --server</span><br><span class="line">    run the JMeter server</span><br><span class="line">-H, --proxyHost &lt;argument&gt;</span><br><span class="line">    Set a proxy server for JMeter to use</span><br><span class="line">-P, --proxyPort &lt;argument&gt;</span><br><span class="line">    Set proxy server port for JMeter to use</span><br><span class="line">-N, --nonProxyHosts &lt;argument&gt;</span><br><span class="line">    Set nonproxy host list (e.g. *.apache.org|localhost)</span><br><span class="line">-u, --username &lt;argument&gt;</span><br><span class="line">    Set username for proxy server that JMeter is to use</span><br><span class="line">-a, --password &lt;argument&gt;</span><br><span class="line">    Set password for proxy server that JMeter is to use</span><br><span class="line">-J, --jmeterproperty &lt;argument&gt;=&lt;value&gt;</span><br><span class="line">    Define additional JMeter properties</span><br><span class="line">-G, --globalproperty &lt;argument&gt;=&lt;value&gt;</span><br><span class="line">    Define Global properties (sent to servers)</span><br><span class="line">    e.g. -Gport=123</span><br><span class="line">     or -Gglobal.properties</span><br><span class="line">-D, --systemproperty &lt;argument&gt;=&lt;value&gt;</span><br><span class="line">    Define additional system properties</span><br><span class="line">-S, --systemPropertyFile &lt;argument&gt;</span><br><span class="line">    additional system property file(s)</span><br><span class="line">-f, --forceDeleteResultFile</span><br><span class="line">    force delete existing results files before start the test</span><br><span class="line">-L, --loglevel &lt;argument&gt;=&lt;value&gt;</span><br><span class="line">    [category=]level e.g. jorphan=INFO, jmeter.util=DEBUG or com.example.foo=WARN</span><br><span class="line">-r, --runremote</span><br><span class="line">    Start remote servers (as defined in remote_hosts)</span><br><span class="line">-R, --remotestart &lt;argument&gt;</span><br><span class="line">    Start these remote servers (overrides remote_hosts)</span><br><span class="line">-d, --homedir &lt;argument&gt;</span><br><span class="line">    the jmeter home directory to use</span><br><span class="line">-X, --remoteexit</span><br><span class="line">    Exit the remote servers at end of test (non-GUI)</span><br><span class="line">-g, --reportonly &lt;argument&gt;</span><br><span class="line">    generate report dashboard only, from a test results file</span><br><span class="line">-e, --reportatendofloadtests</span><br><span class="line">    generate report dashboard after load test</span><br><span class="line">-o, --reportoutputfolder &lt;argument&gt;</span><br><span class="line">    output folder for report dashboard</span><br></pre></td></tr></table></figure>
<p>Note: the JMeter log file name is formatted as a SimpleDateFormat (applied to the current date) if it contains paired single-quotes, .e.g. ‘jmeter_’yyyyMMddHHmmss’.log’</p>
<p>If the special name LAST is used for the -t, -j or -l flags, then JMeter takes that to mean the last test plan that was run in interactive mode.</p>
<h2 id="1-4-9-non-GUI-shutdown"><a href="#1-4-9-non-GUI-shutdown" class="headerlink" title="1.4.9 non-GUI shutdown"></a>1.4.9 non-GUI shutdown</h2><p>Prior to version 2.5.1, JMeter invoked System.exit() when a non-GUI test completed. This caused problems for applications that invoke JMeter directly, so JMeter no longer invokes System.exit() for a normal test completion. [Some fatal errors may still invoke System.exit()] JMeter will exit all the non-daemon threads it starts, but it is possible that some non-daemon threads may still remain; these will prevent the JVM from exiting. To detect this situation, JMeter starts a new daemon thread just before it exits. This daemon thread waits a short while; if it returns from the wait, then clearly the JVM has not been able to exit, and the thread prints a message to say why.</p>
<p>The property jmeter.exit.check.pause can be used to override the default pause of 2000ms (2secs). If set to 0, then JMeter does not start the daemon thread.</p>
<h1 id="1-5-Configuring-JMeter"><a href="#1-5-Configuring-JMeter" class="headerlink" title="1.5 Configuring JMeter"></a>1.5 Configuring JMeter</h1><p>If you wish to modify the properties with which JMeter runs you need to either modify the user.properties in the /bin directory or create your own copy of the jmeter.properties and specify it in the command line.</p>
<p>Note: You can define additional JMeter properties in the file defined by the JMeter property user.properties which has the default value user.properties. The file will be automatically loaded if it is found in the current directory or if it is found in the JMeter bin directory. Similarly, system.properties is used to update system properties.</p>
<h3 id="Parameters"><a href="#Parameters" class="headerlink" title="Parameters"></a>Parameters</h3><p>Attribute</p>
<p>Description</p>
<p>Required</p>
<p>ssl.provider</p>
<p>You can specify the class for your SSL implementation if you don’t want to use the built-in Java implementation.</p>
<p>No</p>
<p>xml.parser</p>
<p>You can specify an implementation as your XML parser. The default value is: org.apache.xerces.parsers.SAXParser</p>
<p>No</p>
<p>remote_hosts</p>
<p>Comma-delimited list of remote JMeter hosts (or host:port if required). If you are running JMeter in a distributed environment, list the machines where you have JMeter remote servers running. This will allow you to control those servers from this machine’s GUI</p>
<p>No</p>
<p>not_in_menu</p>
<p>A list of components you do not want to see in JMeter’s menus. As JMeter has more and more components added, you may wish to customize your JMeter to show only those components you are interested in. You may list their classname or their class label (the string that appears in JMeter’s UI) here, and they will no longer appear in the menus.</p>
<p>No</p>
<p>search_paths</p>
<p>List of paths (separated by ;) that JMeter will search for JMeter plugin classes, for example additional samplers. A path item can either be a jar file or a directory. Any jar file in such a directory will be automatically included in search_paths, jar files in sub directories are ignored. The given value is in addition to any jars found in the lib/ext directory.</p>
<p>No</p>
<p>user.classpath</p>
<p>List of paths that JMeter will search for utility and plugin dependency classes. Use your platform path separator to separate multiple paths. A path item can either be a jar file or a directory. Any jar file in such a directory will be automatically included in user.classpath, jar files in sub directories are ignored. The given value is in addition to any jars found in the lib directory. All entries will be added to the class path of the system class loader and also to the path of the JMeter internal loader.</p>
<p>No</p>
<p>plugin_dependency_paths</p>
<p>List of paths (separated by ;) that JMeter will search for utility and plugin dependency classes. A path item can either be a jar file or a directory. Any jar file in such a directory will be automatically included in plugin_dependency_paths, jar files in sub directories are ignored. The given value is in addition to any jars found in the lib directory or given by the user.classpathproperty. All entries will be added to the path of the JMeter internal loader only. For plugin dependencies using plugin_dependency_paths should be preferred overuser.classpath.</p>
<p>No</p>
<p>user.properties</p>
<p>Name of file containing additional JMeter properties. These are added after the initial property file, but before the -q and -J options are processed.</p>
<p>No</p>
<p>system.properties</p>
<p>Name of file containing additional system properties. These are added before the -S and -D options are processed.</p>
<p>No</p>
<p>The command line options and properties files are processed in the following order:</p>
<ol>
<li>-p propfile</li>
<li>jmeter.properties (or the file from the -p option) is then loaded</li>
<li>-j logfile</li>
<li>Logging is initialised</li>
<li>user.properties is loaded</li>
<li>system.properties is loaded</li>
<li>all other command-line options are processed</li>
</ol>
<p><strong>See also the comments in the jmeter.properties, user.properties and system.properties files for further information on other settings you can change.</strong></p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/10/08/Linux/资源汇总/" rel="next" title>
                <i class="fa fa-chevron-left"></i> 
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/10/09/工具/REDHAT GCC/" rel="prev" title>
                 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      <div class="ds-thread" data-thread-key="2017/10/09/Test/JMETER/" data-title data-url="http://yoursite.com/2017/10/09/Test/JMETER/">
      </div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.jpeg" alt="Dylan Lang">
            
              <p class="site-author-name" itemprop="name">Dylan Lang</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">513</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">32</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">120</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/yourname" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:yourname@gmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#1-Getting-Started"><span class="nav-number">1.</span> <span class="nav-text">1. Getting Started</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#1-0-Overview"><span class="nav-number">2.</span> <span class="nav-text">1.0 Overview</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-0-1-Test-plan-building"><span class="nav-number">2.1.</span> <span class="nav-text">1.0.1 Test plan building</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-0-2-Load-Test-running"><span class="nav-number">2.2.</span> <span class="nav-text">1.0.2 Load Test running</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-0-3-Load-Test-analysis"><span class="nav-number">2.3.</span> <span class="nav-text">1.0.3 Load Test analysis</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-0-4-Let’s-start"><span class="nav-number">2.4.</span> <span class="nav-text">1.0.4 Let’s start</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#1-1-Requirements"><span class="nav-number">3.</span> <span class="nav-text">1.1 Requirements</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-1-1-Java-Version"><span class="nav-number">3.1.</span> <span class="nav-text">1.1.1 Java Version</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-1-2-Operating-Systems"><span class="nav-number">3.2.</span> <span class="nav-text">1.1.2 Operating Systems</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#1-2-Optional"><span class="nav-number">4.</span> <span class="nav-text">1.2 Optional</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-2-1-Java-Compiler"><span class="nav-number">4.1.</span> <span class="nav-text">1.2.1 Java Compiler</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-2-2-SAX-XML-Parser"><span class="nav-number">4.2.</span> <span class="nav-text">1.2.2 SAX XML Parser</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-2-3-Email-Support"><span class="nav-number">4.3.</span> <span class="nav-text">1.2.3 Email Support</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-2-4-SSL-Encryption"><span class="nav-number">4.4.</span> <span class="nav-text">1.2.4 SSL Encryption</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-2-5-JDBC-Driver"><span class="nav-number">4.5.</span> <span class="nav-text">1.2.5 JDBC Driver</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-2-6-JMS-client"><span class="nav-number">4.6.</span> <span class="nav-text">1.2.6 JMS client</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-2-7-Libraries-for-ActiveMQ-JMS"><span class="nav-number">4.7.</span> <span class="nav-text">1.2.7 Libraries for ActiveMQ JMS</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#1-3-Installation"><span class="nav-number">5.</span> <span class="nav-text">1.3 Installation</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#1-4-Running-JMeter"><span class="nav-number">6.</span> <span class="nav-text">1.4 Running JMeter</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-4-1-JMeter’s-Classpath"><span class="nav-number">6.1.</span> <span class="nav-text">1.4.1 JMeter’s Classpath</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-4-2-Create-Test-Plan-from-Template"><span class="nav-number">6.2.</span> <span class="nav-text">1.4.2 Create Test Plan from Template</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-4-3-Using-JMeter-behind-a-proxy"><span class="nav-number">6.3.</span> <span class="nav-text">1.4.3 Using JMeter behind a proxy</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-4-4-Non-GUI-Mode-Command-Line-mode"><span class="nav-number">6.4.</span> <span class="nav-text">1.4.4 Non-GUI Mode (Command Line mode)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-4-5-Server-Mode"><span class="nav-number">6.5.</span> <span class="nav-text">1.4.5 Server Mode</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-4-6-Overriding-Properties-Via-The-Command-Line"><span class="nav-number">6.6.</span> <span class="nav-text">1.4.6 Overriding Properties Via The Command Line</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-4-7-Logging-and-error-messages"><span class="nav-number">6.7.</span> <span class="nav-text">1.4.7 Logging and error messages</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-4-8-Full-list-of-command-line-options"><span class="nav-number">6.8.</span> <span class="nav-text">1.4.8 Full list of command-line options</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-4-9-non-GUI-shutdown"><span class="nav-number">6.9.</span> <span class="nav-text">1.4.9 non-GUI shutdown</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#1-5-Configuring-JMeter"><span class="nav-number">7.</span> <span class="nav-text">1.5 Configuring JMeter</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Parameters"><span class="nav-number">7.0.1.</span> <span class="nav-text">Parameters</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2015 &mdash; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Dylan Lang</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"your-duoshuo-shortname"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  


















  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
